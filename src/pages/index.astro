---
// Components
// - Layout
import Layout from '../layouts/LayoutDesign.astro'
import Section from '../components/ui/Section.astro'
import Row from '../components/ui/Row.astro'
import Col from '../components/ui/Col.astro'

// - UI
import Feed from '../components/ui/Feeds/ExperienceFeed.astro'
import List from '../components/ui/List.astro'
import Slider from '../components/ui/Slider.astro'
import Testimonial from '../components/ui/Testimonial.astro'
import Button from '../components/ui/Button.astro'
import CaseStudyCard from '../components/ui/cards/CaseStudyCard.astro'
import { Icon } from 'astro-icon/components'

// Content
// - Data
import experienceData from '../data/json-files/experienceData.json'
import testimonialData from '../data/json-files/testimonialData.json'

// - Collection
import { getCollection } from 'astro:content'
const allCaseStudies = await getCollection('caseStudiesDesign', ({ id }) => {
	return id
})
// Function to sort case studies by date
const sortedCaseStudies = allCaseStudies.sort((a: any, b: any) => {
	return new Date(b.data.pubDate).getTime() - new Date(a.data.pubDate).getTime()
})

// - SEO
const SEO = {
	title: 'Milo – Personal Resume & Portfolio Theme Built with Astro',
	description:
		'Milo is a fast, elegant, and accessible Astro theme built to showcase your resume, projects, and skills. Ideal for creating a personal portfolio or professional profile site.'
}

// - Hero
const videoSource = '/videos/hero-video-primary.mp4'
---

<Layout title={SEO.title} description={SEO.description} navigation="sticky">
	<!-- Intro -->
	<Section id="intro" classes="!overflow-visible !pt-40 lg:!pt-28">
		<Row>
			<Col span="2" />
			<Col span="10" spanMobile="4">
				<video
					autoplay
					muted
					class="animate absolute -left-40 -top-56 size-80 rounded-full object-cover md:-left-72 md:-top-44 md:size-[31.25rem]"
				>
					<source src={videoSource} type="video/mp4" />
				</video>

				<div class="animate relative z-10">
					<h1 class="max-w-3xl font-normal">
						Hi, <br />I’m Milo <br />& I design.
					</h1>

					<ul class="font-headings flex flex-wrap gap-6 text-lg italic">
						<li class="animate">
							<a class="text-inherit" href="mailto:milo@studio.com">milo@studio.com</a>
						</li>
						<li class="animate">
							<a class="text-inherit" href="tel:+13235550198">+1 (323) 555-0198</a>
						</li>
						<li class="animate">Remote Friendly</li>
						<li class="animate"><a class="text-inherit" href="#">@milo.design</a></li>
					</ul>
				</div>
			</Col>
		</Row>
	</Section>

	<!-- About -->
	<Section id="about">
		<Row>
			<Col span="2" spanMobile="4">
				<h2 class="lg:text-right">About me</h2>
			</Col>
			<Col span="10" spanMobile="4" classes="lg:columns-2 gap-8">
				<p>
					I'm a designer who loves crafting clean, modern, and user-friendly digital experiences. I
					care deeply about layout, typography, and interaction — and I always aim for that sweet
					spot between form and function. I've worked with startups and agencies to design websites
					and products that feel as good as they look.
				</p>
				<p>
					When I’m not designing, I’m usually sketching new ideas, testing fresh design tools, or
					browsing Dribbble and Behance for inspiration. I believe in thoughtful design, continuous
					learning, and sharing what I know through side projects and creative collaborations.
				</p>
			</Col>
		</Row>
	</Section>

	<!-- Experience -->
	<Section id="experience" classes="!overflow-visible">
		<Row>
			<Col span="2" spanMobile="4" classes="h-full">
				<h2 class="lg:sticky lg:top-4 lg:text-right">Experience</h2>
			</Col>
			<Col span="10" spanMobile="4">
				<Feed data={experienceData} />
			</Col>
		</Row>
	</Section>

	<!-- Skills & Tools -->
	<Section id="skills">
		<Row>
			<Col span="2" spanMobile="4">
				<h2 class="lg:text-right">Skills & Tools</h2>
			</Col>
			<Col span="5" spanMobile="4">
				<p>
					I'm a designer who loves crafting clean, modern, and user-friendly digital experiences. I
					care deeply about layout, typography, and interaction — and I always aim for that sweet
					spot between form and function. I've worked with startups and agencies to design websites
					and products that feel as good as they look.
				</p>
				<List
					type="basic"
					listItems={[
						{ listItem: 'UI/UX Design' },
						{ listItem: 'Design Systems' },
						{ listItem: 'Motion & Microinteractions' },
						{ listItem: 'Accessibility (WCAG)' },
						{ listItem: 'Performance Optimization' }
					]}
					classes="ml-4"
				/>
			</Col>
			<Col span="5" spanMobile="4">
				<p>
					When I’m not designing, I’m usually sketching new ideas, testing fresh design tools, or
					browsing Dribbble and Behance for inspiration. I believe in thoughtful design, continuous
					learning, and sharing what I know through side projects and creative collaborations.
				</p>
				<List
					type="basic"
					listItems={[
						{ listItem: 'Figma & FigJam' },
						{ listItem: 'Framer' },
						{ listItem: 'Webflow' },
						{ listItem: 'Astro / React / Tailwind CSS' }
					]}
					classes="ml-4"
				/>
			</Col>
		</Row>
	</Section>

	<!-- Feedback -->
	<Section id="feedback">
		<Row>
			<Col span="2" spanMobile="4">
				<h2 class="lg:text-right">Feedback</h2>
			</Col>
			<Col span="10" spanMobile="4">
				<Slider
					slidesPerView={1}
					id="feedbackSlider"
					delay={3500}
					showNavigation={false}
					centeredSlides={true}
					initialSlide={0}
				>
					{
						testimonialData.map((item: any) => (
							<div class="swiper-slide">
								<Testimonial
									blockquote={item.blockquote}
									figcaption={item.figcaption}
									cite={item.cite}
									align="left"
									quoteClasses="font-headings italic"
								/>
							</div>
						))
					}
				</Slider>
			</Col>
		</Row>
	</Section>

	<!-- Case Studies -->
	<Section id="case-studies">
		<Row classes="pb-6">
			<Col span="2" spanMobile="4">
				<h2 class="lg:text-right">Case Studies</h2>
			</Col>
			<Col span="5" spanMobile="4">
				<p class="m-0 w-full">
					From SaaS landing pages to eCommerce stores and interactive web apps. Each one reflects my
					focus on clean design, thoughtful UX, and modern front-end development.
				</p>
			</Col>
			<Col span="5" spanMobile="4" classes="lg:self-end lg:justify-self-end">
				<Button
					link="/case-studies-design"
					type="link"
					variation="link"
					classes="lg:self-end lg:!justify-end  w-full"
				>
					<span class="sr-only">View more case studies</span>
					more <Icon name="long-arrow-right" />
				</Button>
			</Col>
		</Row>
		<Row>
			<Col span="2" />
			<Col span="10" spanMobile="4">
				<div class="grid grid-cols-1 gap-4 lg:grid-cols-3">
					{
						sortedCaseStudies.slice(0, 3).map((caseStudy: any) => (
							<CaseStudyCard
								link={`/case-studies-design/${caseStudy.id}`}
								title={caseStudy.data.title}
								image={caseStudy.data.cardImage}
								greyImage={caseStudy.data.greyImage}
								roles={caseStudy.data.roles}
							>
								{caseStudy.data.description}
							</CaseStudyCard>
						))
					}
				</div>
			</Col>
		</Row>
	</Section>
</Layout>
