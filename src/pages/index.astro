---
// Components
// - Layout
import Layout from '../layouts/LayoutDesign.astro'
import Section from '../components/ui/Section.astro'
import Row from '../components/ui/Row.astro'
import Col from '../components/ui/Col.astro'

// - UI
import Feed from '../components/ui/Feeds/ExperienceFeed.astro'
import List from '../components/ui/List.astro'
import Slider from '../components/ui/Slider.astro'
import Testimonial from '../components/ui/Testimonial.astro'
import Button from '../components/ui/Button.astro'
import CaseStudyCard from '../components/ui/cards/CaseStudyCard.astro'
import { Icon } from 'astro-icon/components'
import { Image } from 'astro:assets'		
// Content
// - Data
import experienceData from '../data/json-files/experienceData.json'
import testimonialData from '../data/json-files/testimonialData.json'

// - Collection
import { getCollection } from 'astro:content'
const allCaseStudies = await getCollection('caseStudiesDesign')

// Function to sort and filter case studies
const getFeaturedCaseStudies = (caseStudies: any[]) => {
  return caseStudies
    .filter(caseStudy => caseStudy.data.featured) // Only include featured case studies
    .sort((a, b) => {
      // First sort by featuredOrder (lower numbers first)
      if (a.data.featuredOrder !== undefined && b.data.featuredOrder !== undefined) {
        return a.data.featuredOrder - b.data.featuredOrder
      }
      // Fallback to pubDate if featuredOrder is not set
      return new Date(b.data.pubDate).getTime() - new Date(a.data.pubDate).getTime()
    })
}

const featuredCaseStudies = getFeaturedCaseStudies(allCaseStudies)

// - SEO
const SEO = {
	title: 'Scott Galetto | Designer | Developer | Strategist',
	description:
		'Hi, I’m Scott Galetto. I’m a designer who loves crafting clean, modern, and user-friendly digital experiences. I care deeply about layout, typography, and interaction — and I always aim for that sweet spot between form and function. I’ve worked with startups and agencies to design websites and products that feel as good as they look.'
}

// - Hero
// const imageSource = '/hero/hero-image-secondary.png'
---

<Layout title={SEO.title} description={SEO.description} navigation="sticky">
	<!-- Intro -->
	<Section id="intro" classes="!overflow-visible !pt-40 lg:!pt-28">
		<Row>
			<Col span="2" />
			<Col span="10" spanMobile="4">
				<span
				class="animate absolute -left-40 -top-52 z-[-1] size-80 rounded-full bg-primary-400 object-cover lg:-left-72 lg:-top-72 lg:size-[31.25rem] dark:bg-secondary-400"></span>
				<!-- <div
					class="animate absolute -left-40 -top-56 size-80 rounded-full object-cover md:-left-52 md:-top-44 md:size-[31.25rem]">
					<Image
						src={imageSource}
						alt="Portrait of Scott Galetto, a professional designer and developer"
						width={600}
						height={600}
						class="w-full h-full rounded-full object-cover"
						format="webp"
						loading="eager"
						class="animate absolute -left-30 -top-56 size-80 rounded-full object-cover md:-left-72 md:-top-44 md:size-[31.25rem]"
						format="webp"
						loading="eager"
						fetchpriority="high"
						aria-hidden="false"
					/> -->
				</div>

				<div class="animate relative z-10">
					<h1 class="max-w-3xl font-normal">
						Hi, <br />I’m Scott <br />& I create.
					</h1>

					<ul class="font-headings flex flex-wrap gap-6 text-lg italic lg:gap-9">
						<li class="animate">
							<a class="text-inherit" href="mailto:scottgaletto@gmail.com">scottgaletto@gmail.com</a>
						</li>
						<!-- <li class="animate">
							<a class="text-inherit" href="tel:+13235550198">+1 (000) 000-0000</a>
						</li>
						<li class="animate">Remote Friendly</li>
						<li class="animate"><a class="text-inherit" href="#">@scottgaletto</a></li> -->
					</ul>
				</div>
			</Col>
		</Row>
	</Section>

	<!-- About -->
	<Section id="about">
		<Row>
			<Col span="2" spanMobile="4">
				<h2 class="lg:text-right">About me</h2>
			</Col>
			<Col span="10" spanMobile="4" classes="lg:columns-2 gap-9">
				<p>
					I’m a designer-slash-front-end dev who’s all about clean visuals, intuitive UX, and digital experiences that actually make sense. With a background that spans agencies, startups, and everything in between, I’ve spent the last 20+ years making websites and products that don’t just look good — they feel good to use. I obsess over the details: layout, flow, micro-interactions, accessibility. Basically, if it’s on screen, I want it to work hard and look effortless.
				</p>
				<p>
					When I’m not designing or fine-tuning UI, you’ll probably find me diving into a new app idea, experimenting with the latest AI tools, or tweaking my portfolio for the hundredth time (because, yes, it’s never done). I’m always chasing that balance between creativity and clarity — whether it’s through digital design, front-end code, or late-night concept sketching. I believe in building with empathy, learning as you go, and using tech to make things a little smarter, a little weirder, and a lot more human.
				</p>
			</Col>
		</Row>
	</Section>

	<!-- Experience -->
	<Section id="experience" classes="!overflow-visible">
		<Row>
			<Col span="2" spanMobile="4" classes="h-full">
				<h2 class="lg:sticky lg:top-4 lg:text-right">Experience</h2>
			</Col>
			<Col span="10" spanMobile="4">
				<Feed data={experienceData} />
			</Col>
		</Row>
	</Section>

	<!-- Skills & Tools -->
	<Section id="skills">
		<Row>
			<Col span="2" spanMobile="4">
				<h2 class="lg:text-right">Skills & Tools</h2>
			</Col>
			<Col span="5" spanMobile="4">
				<p>
					Over the years, I’ve built a deep, well-rounded toolkit that blends creative intuition with technical know-how. From concept to code, I thrive in the overlap between design systems, user psychology, and clean front-end execution. I move seamlessly between prototyping tools, brand systems, and dev environments—bringing ideas to life with precision, flexibility, and a little bit of edge. Whether it’s building out a responsive UI, optimizing a user flow, or crafting a fresh brand vibe, I bring experience, taste, and speed to every screen I touch.
				</p>
		
			</Col>
			<Col span="5" spanMobile="4">
				<List
				type="basic"
				listItems={[
					{ listItem: 'UI/UX Design' },
					{ listItem: 'Design Systems' },
					{ listItem: 'Motion & Microinteractions' },
					{ listItem: 'Accessibility (WCAG)' },
					{ listItem: 'Performance Optimization' },
					{ listItem: 'Figma & FigJam' },
					{ listItem:	'Adobe Creative Suite'},
					{ listItem: 'Framer' },
					{ listItem: 'Webflow' },
					{ listItem: 'Astro / React / Tailwind CSS' },
					{ listItem: 'Asana' },
					{ listItem: 'Jira' },
					{ listItem: 'Trello' },
					{ listItem: 'Notion' },
					{ listItem: 'Slack' }
				]}
				classes="ml-4"
			/>
			</Col>
		</Row>
	</Section>

	

	<!-- Case Studies -->
	<Section id="case-studies">
		<Row classes="pb-6">
			<Col span="2" spanMobile="4">
				<h2 class="lg:text-right">Case Studies</h2>
			</Col>
			<Col span="5" spanMobile="4">
				<p class="m-0 w-full">
					Between mobile prototypes, interactive campaigns and video, my work focuses on usability, creativity, and bringing ideas to life with polish and purpose.
				</p>
			</Col>
			<Col span="5" spanMobile="4" classes="lg:self-end lg:justify-self-end">
				<Button
					link="/case-studies-design"
					type="link"
					variation="link"
					classes="lg:self-end lg:!justify-end  w-full"
				>
					<span class="sr-only">View more case studies</span>
					<span class="text-xl">View more case studies</span> <Icon name="long-arrow-right" />
				</Button>
			</Col>
		</Row>
		<Row>
			<Col span="2" />
			<Col span="10" spanMobile="4">
				<div class="grid grid-cols-1 gap-9 lg:grid-cols-2">
					{
						featuredCaseStudies.map((caseStudy: any) => (
							<CaseStudyCard
								link={`/case-studies-design/${caseStudy.id}`}
								title={caseStudy.data.title}
								image={caseStudy.data.cardImage}
								greyImage={caseStudy.data.greyImage}
								roles={caseStudy.data.roles}
							>
								{caseStudy.data.description}
							</CaseStudyCard>
						))
					}
				</div>
			</Col>
		</Row>
	</Section>
	<!-- Feedback -->
	<Section id="feedback">
		<Row>
			<Col span="2" spanMobile="4">
				<h2 class="lg:text-right">Feedback</h2>
			</Col>
			<Col span="10" spanMobile="4">
				<Slider
					slidesPerView={1}
					id="feedbackSlider"
					delay={3500}
					showNavigation={false}
					centeredSlides={true}
					initialSlide={0}
				>
					{
						testimonialData.map((item: any) => (
							<div class="swiper-slide">
								<Testimonial
									blockquote={item.blockquote}
									figcaption={item.figcaption}
									cite={item.cite}
									align="left"
									quoteClasses="font-headings italic"
								/>
							</div>
						))
					}
				</Slider>
			</Col>
		</Row>
	</Section>
</Layout>
